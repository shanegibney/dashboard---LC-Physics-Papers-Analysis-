{"remainingRequest":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/src/components/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/src/components/List.vue","mtime":1566404235655},{"path":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanegibney/MEVN-Physics-Papers-Analysis/physicspaperanalysis/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nexport default {\n  name: 'List',\n  data() {\n    return {\n      subjects: {\n        \"Mechanics\": [\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n        \"Thermal\": [\"Charle's Law\", \"Specific heat capacity\", \"Latent heat of vaporisation\"],\n        \"Nuclear\": [\"Half-life\", \"Decay rate\", \"Radioactivity\"],\n        \"Particle\": [\"Hadrons\", \"Baryons\", \"Leptons\"]\n      },\n      topics: [],\n      subTopics: [],\n\n      selectLevels: ['Higher', 'Ordinary'],\n      selected: 'Higher',\n      selectedOption: '',\n      opts: [{\n        level: 'Higher'\n      }, {\n        level: 'Ordinary'\n      }],\n      questionopts: [{\n        type: 'Theory'\n      }, {\n        type: 'Substitution'\n      }, {\n        type: 'Historic'\n      }, {\n        type: 'Short Question'\n      }, {\n        type: 'Experiment'\n      }, {\n        type: 'Definition'\n      }, {\n        type: \"Derivation\"\n      }],\n      selected: '',\n      todos: [],\n      id: '',\n      newTopic: 'newTopic',\n      newtopic: '',\n      newsubtopic: '',\n      // disableSubTopicForm: false,\n\n      showQuery: false,\n      showDashboard: true,\n      showOptions: true,\n\n      levelQuery: 'Higher',\n      yearQuery: '2019',\n      qnumberQuery: '',\n      topicQuery: 'Mechanics',\n      TopicQuery: '',\n      Sub_topicQuery: '',\n      subtopicQuery: 'Force',\n      subTopicsQuery: '',\n      questiontypeQuery: 'Theory',\n\n      // Yeartag: reversedTodos[0].year,\n      Yeartag: 2019,\n      Leveltag: 'Higher',\n      Questiontag: '',\n      Answertag: '',\n      // Answertag: this.todos[this.todos.length - 1].Answer,\n      Topictag: '',\n      Sub_topictag: '',\n      // Sub_topictag: this.subjects[\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n      // Sub_topictag: this.subjects[\"Mechanics\"],\n      Question_typetag: 'Theory',\n      Markstag: 5,\n      Question_numbertag: 2,\n      Parttag: 'c',\n      Sub_parttag: 'ii',\n      isEdit: false\n    }\n  },\n  created() {\n    this.getTasks()\n  },\n  methods: {\n    addOptions() {\n      // add new topic and sub topic to the subjects object\n      // subjects: {\n      //   \"Mechanics\": [\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n      //   \"Thermal\": [\"Charle's Law\", \"Specific heat capacity\", \"Latent heat of vaporisation\"],\n      //   \"Nuclear\": [\"Half-life\", \"Decay rate\", \"Radioactivity\"],\n      //   \"Particle\": [\"Hadrons\", \"Baryons\", \"Leptons\"]\n      // },\n      console.log(\"this.newtopic: \" + this.newtopic + \", this.newsubtopic: \" + this.newsubtopic);\n    },\n    toggleQuery() {\n      this.showQuery = !this.showQuery;\n    },\n    toggleOptions() {\n      this.showOptions = !this.showOptions;\n    },\n    toggleDashboard() {\n      this.showDashboard = !this.showDashboard;\n    },\n    // lastTask() {\n    //   axios.get(\"/api/lasttask\").then(\n    //     result => {\n    //       // this.todos = result.data\n    //       console.log(result.data);\n    //     },\n    //     error => {\n    //       console.error(error)\n    //     }\n    //   )\n    // },\n    getTasks() {\n      axios.get(\"/api/tasks\").then(\n        result => {\n          // console.log(result.data)\n          this.todos = result.data\n\n          // get most recently added elements in todos for dashboard panel form\n          this.Yeartag = this.todos[this.todos.length - 1].Year\n          this.Leveltag = this.todos[this.todos.length - 1].Level\n          this.Questiontag = this.todos[this.todos.length - 1].Question\n          this.Answertag = this.todos[this.todos.length - 1].Answer\n          this.Topictag = this.todos[this.todos.length - 1].Topic\n          this.Sub_topictag = this.todos[this.todos.length - 1].Sub_topic\n          this.Question_typetag = this.todos[this.todos.length - 1].Question_type\n          this.Markstag = this.todos[this.todos.length - 1].Marks\n          this.Question_numbertag = this.todos[this.todos.length - 1].Question_number\n          this.Parttag = this.todos[this.todos.length - 1].Part\n          this.Sub_parttag = this.todos[this.todos.length - 1].Sub_part\n        },\n        error => {\n          console.error(error)\n        }\n      )\n    },\n    getQuery(level, topic, subtopic) {\n      if (!topic) {\n        topic = \" \";\n      }\n      if (!subtopic) {\n        subtopic = \" \";\n      }\n      if (!level) {\n        level = \" \";\n      }\n      axios.get(\"/api/tasks/\" + level + \"/\" + topic + \"/\" + subtopic + \"/\").then(\n        result => {\n          console.log(result.data)\n          this.todos = result.data\n        },\n        error => {\n          console.error(error)\n        }\n      )\n    },\n    addNewTask() {\n      // console.log(\"this.Questiontag: \" + this.Questiontag);\n      axios.post(\"/api/task\", {\n          Level: this.Leveltag,\n          Year: this.Yeartag,\n          Question: this.Questiontag,\n          Answer: this.Answertag,\n          Topic: this.Topictag,\n          Sub_topic: this.Sub_topictag,\n          Question_type: this.Question_typetag,\n          Marks: this.Markstag,\n          Question_number: this.Question_numbertag,\n          Part: this.Parttag,\n          Sub_part: this.Sub_parttag\n        })\n        .then((res) => {\n          this.getTasks()\n        }).catch((err) => {\n          console.log(error)\n        })\n    },\n    //need to call editTask() twice to invoke the watched variable Sub_topictag\n    editTask(id, edit_Level, edit_Year, edit_Question, edit_Answer, edit_Topic, edit_Sub_topic, edit_Question_type, edit_Marks, edit_Question_number, edit_Part, edit_Sub_part) {\n      this.id = id\n      this.Leveltag = edit_Level\n      this.Yeartag = edit_Year\n      this.Questiontag = edit_Question\n      this.Answertag = edit_Answer\n      this.Topictag = edit_Topic\n      this.Sub_topictag = edit_Sub_topic\n      this.Question_typetag = edit_Question_type\n      this.Markstag = edit_Marks\n      this.Question_numbertag = edit_Question_number\n      this.Parttag = edit_Part\n      this.Sub_parttag = edit_Sub_part\n      this.isEdit = true\n    },\n    updateTask(id) {\n      // axios.put(`/api/task/${this.id}`, {\n      axios.put('/api/task/' + id, {\n          Level: this.Leveltag,\n          Year: this.Yeartag,\n          Question_number: this.Question_numbertag,\n          Part: this.Parttag,\n          Sub_part: this.Sub_parttag,\n          Question: this.Questiontag,\n          Answer: this.Answertag,\n          Topic: this.Topictag,\n          Sub_topic: this.Sub_topictag,\n          Question_type: this.Question_typetag,\n          Marks: this.Markstag\n        })\n        .then((res) => {\n          this.isEdit = false;\n          this.getTasks()\n          console.log(res)\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n    deleteTask(id) {\n      // axios.delete('/api/task/${id}')\n      axios.delete('/api/task/' + id)\n        .then((res) => {\n          this.getTasks()\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  },\n  computed: {\n    reversedTodos() {\n      return this.todos.slice().reverse()\n    }\n  },\n  watch: {\n    Topictag: function() {\n      this.topics = [];\n      this.subTopics = [];\n      // uncommenting this line below will clear subTopics\n      // everytime edit is used, we don't want that!\n      // this.Sub_topictag = \"\";\n      console.log(\"watching this.Topictag..........\");\n\n      if (this.Topictag.length > 0) {\n        // if (this.Topictag == this.newTopic) {\n        //   console.log(\"this.Topictag = \" + this.Topictag);\n        // } else {\n        console.log(\"watching this.Topictag.length > 0\");\n        this.subTopics = this.subjects[this.Topictag]\n        // console.log(\"this.Topictag = \" + this.Topictag);\n        // }\n      }\n      // console.log(\"this.Topictag.length = \" + this.Topictag.length);\n\n      // if (this.Topictag == \"newTopic\") {\n      //   console.log(\"someone is trying to add a new topic....\");\n      // }\n    },\n    TopicQuery: function() {\n      this.topicsQuery = [];\n      this.subTopicsQuery = [];\n      // uncommenting this line below will clear subTopics\n      // everytime edit is used, we don't want that!\n      // this.Sub_topictag = \"\";\n      if (this.TopicQuery.length > 0) {\n        this.subTopicsQuery = this.subjects[this.TopicQuery]\n      }\n    },\n    newtopic: function() {\n      console.log(\"watch: change on newtopic: \" + this.newtopic);\n      // this.disableSubTopicForm = true;\n    }\n  }\n}\n",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"hello\">\n  <div id=\"todo-list-example\" class=\"container\">\n\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <a class=\"navbar-brand\" href=\"#\">Physics Papers</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mr-auto\">\n          <li class=\"nav-item active\">\n            <a class=\"nav-link\" @click=\"toggleDashboard()\" v-if=\"!showDashboard\">Show Dashboard Panel</a>\n            <a class=\"nav-link\" @click=\"toggleDashboard()\" v-if=\"showDashboard\">Remove Dashboard Panel</a>\n          </li>\n          <li class=\"nav-item active\">\n            <a class=\"nav-link\" @click=\"toggleQuery()\" v-if=\"!showQuery\">Show Query Panel</a>\n            <a class=\"nav-link\" @click=\"toggleQuery()\" v-if=\"showQuery\">Remove Query Panel</a>\n          </li>\n          <li class=\"nav-item active\">\n            <a class=\"nav-link\" @click=\"toggleOptions()\" v-if=\"!showOptions\">Show Options Panel</a>\n            <a class=\"nav-link\" @click=\"toggleOptions()\" v-if=\"showOptions\">Remove Options Panel</a>\n          </li>\n          <!-- <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              Dropdown\n            </a>\n            <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n              <a class=\"dropdown-item\" href=\"#\">Action</a>\n              <a class=\"dropdown-item\" href=\"#\">Another action</a>\n              <div class=\"dropdown-divider\"></div>\n              <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n            </div>\n          </li> -->\n          <!-- <li class=\"nav-item\">\n            <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n          </li> -->\n        </ul>\n        <!-- <form class=\"form-inline my-2 my-lg-0\">\n          <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n          <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n        </form> -->\n      </div>\n    </nav>\n\n    <!-- <div class=\"row\">\n      <div class=\"col-md-3\">\n        <button @click=\"toggleDashboard()\" type=\"button\" v-if=\"!showDashboard\" name=\"button\" class=\"btn btn-primary btn-dashboard-show\">Show Dashboard Panel</button>\n        <button @click=\"toggleDashboard()\" type=\"button\" v-if=\"showDashboard\" name=\"button\" class=\"btn btn-danger btn-dashboard-remove\">Remove Dashboard Panel</button>\n      </div>\n    </div> -->\n\n    <!-- Add options panel -->\n    <div class=\"row\" v-if=\"showOptions\">\n      <div class=\"col-md-12\">\n        <form v-on:submit.prevent=\"addOptions\" class=\"jumbotron\">\n          <div class=\"row\">\n            <div class=\"col-md-2\">\n              <button @click=\"addOptions()\" type=\"submit\" class=\"btn btn-success btn-block mt-4\">Submit</button>\n            </div>\n            <div class=\"col-md-3\">\n              <label for=\"newtopicss\"><strong>New Topic: </strong></label>\n              <input class=\"form-control\" type=\"text\" v-model=\"newtopic\">\n              {{newtopic.length}}\n            </div>\n            <div class=\"col-md-3\">\n              <label for=\"newsubtopic\"><strong>New Related Sub Topic: </strong></label>\n              <!-- :disabled=\"subTopics.length == 0\" -->\n              <input class=\"form-control\" :disabled=\"newtopic.length == 0\" type=\"text\" v-model=\"newsubtopic\" placeholder=\"Add related sub topic\">\n            </div>\n            <div class=\"col-md-4\">\n              newtopic: {{newtopic}}<br>\n              newsubtopic: {{newsubtopic}}<br>\n              newTopic: {{newTopic}}<br>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <!-- End add options panel -->\n\n    <!-- Dashboard start -->\n    <div class=\"row\" v-if=\"showDashboard\">\n      <div class=\"col-md-12\">\n        <form v-on:submit.prevent=\"addNewTask\" class=\"jumbotron\">\n          <div class=\"row\">\n            <div class=\"col-md-2\">\n              <div class=\"dropdown inputs\">\n                <label for=\"level\"><strong>Level: </strong></label><br>\n                <select v-model=\"Leveltag\" class=\"form-control\">\n                  <option v-for=\"opt in opts\" v-bind:value=\"opt.level\">{{opt.level}}</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"col-md-2\">\n              <div class=\"dropdown inputs\">\n                <label for=\"year\"><strong>Year: </strong></label><br>\n                <select v-model=\"Yeartag\" class=\"form-control\">\n                  <option v-for=\"i in 17\" v-bind:value=(i+2002)>{{i+2002}}</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"col-md-2\">\n              <label for=\"questionnumber\"><strong>Q. number: </strong></label><br>\n              <input v-model=\"Question_numbertag\" type=\"number\" id=\"questionnumbert\" class=\"form-control\" placeholder=\"Question no.\">\n            </div>\n\n            <div class=\"col-md-2\">\n              <label for=\"part\"><strong>Part: </strong></label><br>\n              <input v-model=\"Parttag\" type=\"text\" id=\"part\" class=\"form-control\" placeholder=\"Add New Part\">\n            </div>\n\n            <div class=\"col-md-2\">\n              <label for=\"subpart\"><strong>Sub-part: </strong></label><br>\n              <input v-model=\"Sub_parttag\" type=\"text\" id=\"subpart\" class=\"form-control\" placeholder=\"Add New Sub Part\">\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-2 inputs\">\n              <div class=\"dropdown\">\n                <label for=\"topic\"><strong>Topic: </strong></label><br>\n                <select v-model=\"Topictag\" name=\"topic\" id=\"topic\" class=\"form-control\">\n                  <option v-for=\"(topic_obj, topic) in subjects\" :value=\"topic\">{{topic}}</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"col-md-3\">\n              <div class=\"dropdown inputs\">\n                <label for=\"subtopic\"><strong>Sub-topic: </strong></label><br>\n                <select :disabled=\"subTopics.length == 0\" v-model=\"Sub_topictag\" class=\"form-control\" name=\"subtopic\" id=\"subtopic\">\n                  <option v-for=\"subTopics in subTopics\">{{subTopics}}</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"col-md-2\">\n              <div class=\"dropdown inputs\">\n                <label for=\"Question_typetaginput\"><strong>Question type: </strong></label><br>\n                <select v-model=\"Question_typetag\" class=\"form-control\">\n                  <option v-for=\"questionopt in questionopts\" v-bind:value=\"questionopt.type\">{{questionopt.type}}</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"col-md-2\">\n              <label for=\"marks\"><strong>Marks: </strong></label><br>\n              <input v-model=\"Markstag\" type=\"number\" id=\"marks\" class=\"form-control\" placeholder=\"Marks\">\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <label for=\"question\"><strong>Question: </strong></label><br>\n              <textarea v-model=\"Questiontag\" type=\"text\" id=\"Question\" class=\"form-control\" placeholder=\"Add New Question\"></textarea>\n            </div>\n\n            <div class=\"col-md-6\">\n              <div class=\"form-group\">\n                <label for=\"answer\"><strong>Answer: </strong></label><br>\n                <textarea v-model=\"Answertag\" type=\"textinput\" id=\"answer\" class=\"form-control\" placeholder=\"add new answer\"></textarea>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <button v-if=\"this.isEdit==false\" type=\"submit\" class=\"btn btn-success btn-block mt-3\">\n                Submit\n              </button>\n              <button v-else v-on:click=\"updateTask(id)\" type=\"button\" class=\"btn btn-primary btn-block mt-3\">\n                Update\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <!-- End dashboard -->\n\n    <!-- <div class=\"row\">\n      <div class=\"col-md-3\">\n        <button @click=\"toggleQuery()\" type=\"button\" v-if=\"!showQuery\" name=\"button\" class=\"btn btn-primary btn-query-show\">Show Query Panel</button>\n        <button @click=\"toggleQuery()\" type=\"button\" v-if=\"showQuery\" name=\"button\" class=\"btn btn-danger btn-query-remove\">Remove Query Panel</button>\n      </div>\n    </div> -->\n\n    <!-- Begin query panel -->\n    <div class=\"row\" v-if=\"showQuery\">\n      <div class=\"col-md-12\">\n        <form v-on:submit.prevent class=\"jumbotron\">\n          <div class=\"form-group\">\n            <div class=\"row queryinputs\">\n              <!-- <div class=\"col-md-2\">\n                <label for=\"querybytopic\"><strong>Query by Topic: </strong></label><br>\n              </div>\n              <div class=\"col-md-3\">\n                <div class=\"dropdown inputs\">\n                  <select v-model=\"topicQuery\" class=\"form-control\" name=\"querybytopic\" id=\"querybytopic\">\n                    <option value=\"Mechanics\">Mechanics</option>\n                    <option value=\"Nuclear\">Nuclear</option>\n                    <option value=\"Thermal\">Thermal</option>\n                    <option value=\"Thermal\">Particle</option>\n                    <option value=\"\" placeholder=\"leave empty\">leave empty</option>\n                  </select>\n                </div>\n              </div> -->\n\n              <div class=\"col-md-2 inputs\">\n                <div class=\"dropdown\">\n                  <label for=\"topic\"><strong>Topic: </strong></label><br>\n                  <select v-model=\"TopicQuery\" name=\"topic\" id=\"topic\" class=\"form-control\">\n                    <option v-for=\"(topic_obj, topic) in subjects\" :value=\"topic\">{{topic}}</option>\n                    <option value=\"\" placeholder=\"leave empty\">leave empty</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-md-3\">\n                <div class=\"dropdown inputs\">\n                  <label for=\"subtopic\"><strong>Sub-topic: </strong></label><br>\n                  <select :disabled=\"subTopicsQuery.length == 0\" v-model=\"Sub_topicQuery\" class=\"form-control\" name=\"subtopic\" id=\"subtopic\">\n                    <option v-for=\"subTopics in subTopicsQuery\">{{subTopics}}</option>\n                    <option value=\"\" placeholder=\"leave empty\">leave empty</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <div class=\"row\">\n              <div class=\"col-md-2\">\n                <label for=\"querybytopic\"><strong>Query by Level: </strong></label><br>\n              </div>\n              <div class=\"col-md-3\">\n                <div class=\"form-group\">\n                  <div class=\"dropdown inputs\">\n                    <select v-model=\"levelQuery\" class=\"form-control\" name=\"querybylevel\" id=\"querybylevel\">\n                      <option value=\"Higher\">Higher</option>\n                      <option value=\"Ordinary\">Ordinary</option>\n                      <option value=\"\" placeholder=\"leave empty\">leave empty</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-2\">\n              <button v-on:click=\"getQuery(levelQuery, TopicQuery, Sub_topicQuery)\" type=\"submit\" class=\"btn btn-success btn-submitquery\">\n                Submit Query\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <!-- End Query -->\n\n    <!-- Display data-->\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <hr>\n      </div>\n    </div>\n    <div v-for=\"(todo,index) in reversedTodos\">\n      <div class=\"row\">\n        <div class=\"col-md-12 alignRight\">\n          <font-awesome-icon icon=\"edit\" v-on:click=\"editTask(todo.id, todo.Level, todo.Year, todo.Question, todo.Answer, todo.Topic, todo.Sub_topic,todo.Question_type, todo.Marks, todo.Question_number, todo.Part, todo.Sub_part)\" />\n          &nbsp;\n          <font-awesome-icon icon=\"trash-alt\" v-on:click=\"deleteTask(todo.id)\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-6 alignLeft\"><strong>{{todo.Level}} {{todo.Year}} Q.{{todo.Question_number}} {{todo.Part}} {{todo.Sub_part}} ({{todo.Marks}} marks)</strong></div>\n        <div class=\"col-md-6 alignRight\">({{todo.Topic}}, {{todo.Sub_topic}}, {{todo.Question_type}} type question)</div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12 alignLeft\"> Question: {{todo.Question}}</div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-12 alignLeft\"> Answer: {{todo.Answer}}</div>\n        <div class=\"col-md-12\">\n          <hr>\n        </div>\n      </div>\n    </div>\n    <!-- <table class=\"table striped\">\n          <thead class=\"thead-dark\">\n            <tr>\n              <th>#</th>\n              <th>id</th>\n              <th>Level</th>\n              <th>Year</th>\n              <th>Q.no.</th>\n              <th>Part</th>\n              <th>Sub_part</th>\n              <th>Question</th>\n              <th>Answer</th>\n              <th>Topic</th>\n              <th>Sub topic</th>\n              <th>Q.type</th>\n              <th>Marks</th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tr v-for=\"(todo,index) in reversedTodos\" v-bind:id=\"todo.id\" v-bind:Level=\"todo.Level\" v-bind:Year=\"todo.Year\" v-bind:Question=\"todo.Question\" v-bind:Answer=\"todo.Answer\" v-bind:Topic=\"todo.Topic\" v-bind:Sub_topic=\"todo.Sub_topic\"\n            v-bind:Question_type=\"todo.Question_type\" v-bind:arks=\"todo.Marks\" v-bind:Question_number=\"todo.Question_number\" v-bind:Part=\"todo.Part\" v-bind:Sub_part=\"todo.Sub_part\">\n            <td class=\"text-center\">{{index+1}}</td>\n            <td class=\"text-center\">{{todo.id}}</td>\n            <td class=\"text-left\">{{todo.Level}}</td>\n            <td class=\"text-center\">{{todo.Year}}</td>\n            <td class=\"text-center\">{{todo.Question_number}}</td>\n            <td class=\"text-center\">{{todo.Part}}</td>\n            <td class=\"text-center\">{{todo.Sub_part}}</td>\n            <td class=\"text-left overflow-ellipsis\">{{todo.Question}}</td>\n            <td class=\"text-left\">{{todo.Answer}}</td>\n            <td class=\"text-left\">{{todo.Topic}}</td>\n            <td class=\"text-left\">{{todo.Sub_topic}}</td>\n            <td class=\"text-left\">{{todo.Question_type}}</td>\n            <td class=\"text-center\">{{todo.Marks}}</td>\n            <td class=\"text-center\">-->\n    <!-- icon=\"icon name\", also need to add icon to main.js rewritting the name in camel-case as given at  https://fontawesome.com/icons/trash-alt?style=solid -->\n    <!-- <font-awesome-icon icon=\"edit\" v-on:click=\"editTask(todo.id, todo.Level, todo.Year, todo.Question, todo.Answer, todo.Topic, todo.Sub_topic,todo.Question_type, todo.Marks, todo.Question_number, todo.Part, todo.Sub_part)\" />\n        </td>\n        <td class=\"text-center\">\n          <font-awesome-icon icon=\"trash-alt\" v-on:click=\"deleteTask(todo.id)\" />\n        </td>\n        </tr>\n        </table> -->\n  </div>\n  <!-- End data display -->\n\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'List',\n  data() {\n    return {\n      subjects: {\n        \"Mechanics\": [\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n        \"Thermal\": [\"Charle's Law\", \"Specific heat capacity\", \"Latent heat of vaporisation\"],\n        \"Nuclear\": [\"Half-life\", \"Decay rate\", \"Radioactivity\"],\n        \"Particle\": [\"Hadrons\", \"Baryons\", \"Leptons\"]\n      },\n      topics: [],\n      subTopics: [],\n\n      selectLevels: ['Higher', 'Ordinary'],\n      selected: 'Higher',\n      selectedOption: '',\n      opts: [{\n        level: 'Higher'\n      }, {\n        level: 'Ordinary'\n      }],\n      questionopts: [{\n        type: 'Theory'\n      }, {\n        type: 'Substitution'\n      }, {\n        type: 'Historic'\n      }, {\n        type: 'Short Question'\n      }, {\n        type: 'Experiment'\n      }, {\n        type: 'Definition'\n      }, {\n        type: \"Derivation\"\n      }],\n      selected: '',\n      todos: [],\n      id: '',\n      newTopic: 'newTopic',\n      newtopic: '',\n      newsubtopic: '',\n      // disableSubTopicForm: false,\n\n      showQuery: false,\n      showDashboard: true,\n      showOptions: true,\n\n      levelQuery: 'Higher',\n      yearQuery: '2019',\n      qnumberQuery: '',\n      topicQuery: 'Mechanics',\n      TopicQuery: '',\n      Sub_topicQuery: '',\n      subtopicQuery: 'Force',\n      subTopicsQuery: '',\n      questiontypeQuery: 'Theory',\n\n      // Yeartag: reversedTodos[0].year,\n      Yeartag: 2019,\n      Leveltag: 'Higher',\n      Questiontag: '',\n      Answertag: '',\n      // Answertag: this.todos[this.todos.length - 1].Answer,\n      Topictag: '',\n      Sub_topictag: '',\n      // Sub_topictag: this.subjects[\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n      // Sub_topictag: this.subjects[\"Mechanics\"],\n      Question_typetag: 'Theory',\n      Markstag: 5,\n      Question_numbertag: 2,\n      Parttag: 'c',\n      Sub_parttag: 'ii',\n      isEdit: false\n    }\n  },\n  created() {\n    this.getTasks()\n  },\n  methods: {\n    addOptions() {\n      // add new topic and sub topic to the subjects object\n      // subjects: {\n      //   \"Mechanics\": [\"Force\", \"Momentum\", \"Acceleration\", \"Centripetal acceleration\", \"Gravity\", \"Friction\"],\n      //   \"Thermal\": [\"Charle's Law\", \"Specific heat capacity\", \"Latent heat of vaporisation\"],\n      //   \"Nuclear\": [\"Half-life\", \"Decay rate\", \"Radioactivity\"],\n      //   \"Particle\": [\"Hadrons\", \"Baryons\", \"Leptons\"]\n      // },\n      console.log(\"this.newtopic: \" + this.newtopic + \", this.newsubtopic: \" + this.newsubtopic);\n    },\n    toggleQuery() {\n      this.showQuery = !this.showQuery;\n    },\n    toggleOptions() {\n      this.showOptions = !this.showOptions;\n    },\n    toggleDashboard() {\n      this.showDashboard = !this.showDashboard;\n    },\n    // lastTask() {\n    //   axios.get(\"/api/lasttask\").then(\n    //     result => {\n    //       // this.todos = result.data\n    //       console.log(result.data);\n    //     },\n    //     error => {\n    //       console.error(error)\n    //     }\n    //   )\n    // },\n    getTasks() {\n      axios.get(\"/api/tasks\").then(\n        result => {\n          // console.log(result.data)\n          this.todos = result.data\n\n          // get most recently added elements in todos for dashboard panel form\n          this.Yeartag = this.todos[this.todos.length - 1].Year\n          this.Leveltag = this.todos[this.todos.length - 1].Level\n          this.Questiontag = this.todos[this.todos.length - 1].Question\n          this.Answertag = this.todos[this.todos.length - 1].Answer\n          this.Topictag = this.todos[this.todos.length - 1].Topic\n          this.Sub_topictag = this.todos[this.todos.length - 1].Sub_topic\n          this.Question_typetag = this.todos[this.todos.length - 1].Question_type\n          this.Markstag = this.todos[this.todos.length - 1].Marks\n          this.Question_numbertag = this.todos[this.todos.length - 1].Question_number\n          this.Parttag = this.todos[this.todos.length - 1].Part\n          this.Sub_parttag = this.todos[this.todos.length - 1].Sub_part\n        },\n        error => {\n          console.error(error)\n        }\n      )\n    },\n    getQuery(level, topic, subtopic) {\n      if (!topic) {\n        topic = \" \";\n      }\n      if (!subtopic) {\n        subtopic = \" \";\n      }\n      if (!level) {\n        level = \" \";\n      }\n      axios.get(\"/api/tasks/\" + level + \"/\" + topic + \"/\" + subtopic + \"/\").then(\n        result => {\n          console.log(result.data)\n          this.todos = result.data\n        },\n        error => {\n          console.error(error)\n        }\n      )\n    },\n    addNewTask() {\n      // console.log(\"this.Questiontag: \" + this.Questiontag);\n      axios.post(\"/api/task\", {\n          Level: this.Leveltag,\n          Year: this.Yeartag,\n          Question: this.Questiontag,\n          Answer: this.Answertag,\n          Topic: this.Topictag,\n          Sub_topic: this.Sub_topictag,\n          Question_type: this.Question_typetag,\n          Marks: this.Markstag,\n          Question_number: this.Question_numbertag,\n          Part: this.Parttag,\n          Sub_part: this.Sub_parttag\n        })\n        .then((res) => {\n          this.getTasks()\n        }).catch((err) => {\n          console.log(error)\n        })\n    },\n    //need to call editTask() twice to invoke the watched variable Sub_topictag\n    editTask(id, edit_Level, edit_Year, edit_Question, edit_Answer, edit_Topic, edit_Sub_topic, edit_Question_type, edit_Marks, edit_Question_number, edit_Part, edit_Sub_part) {\n      this.id = id\n      this.Leveltag = edit_Level\n      this.Yeartag = edit_Year\n      this.Questiontag = edit_Question\n      this.Answertag = edit_Answer\n      this.Topictag = edit_Topic\n      this.Sub_topictag = edit_Sub_topic\n      this.Question_typetag = edit_Question_type\n      this.Markstag = edit_Marks\n      this.Question_numbertag = edit_Question_number\n      this.Parttag = edit_Part\n      this.Sub_parttag = edit_Sub_part\n      this.isEdit = true\n    },\n    updateTask(id) {\n      // axios.put(`/api/task/${this.id}`, {\n      axios.put('/api/task/' + id, {\n          Level: this.Leveltag,\n          Year: this.Yeartag,\n          Question_number: this.Question_numbertag,\n          Part: this.Parttag,\n          Sub_part: this.Sub_parttag,\n          Question: this.Questiontag,\n          Answer: this.Answertag,\n          Topic: this.Topictag,\n          Sub_topic: this.Sub_topictag,\n          Question_type: this.Question_typetag,\n          Marks: this.Markstag\n        })\n        .then((res) => {\n          this.isEdit = false;\n          this.getTasks()\n          console.log(res)\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n    deleteTask(id) {\n      // axios.delete('/api/task/${id}')\n      axios.delete('/api/task/' + id)\n        .then((res) => {\n          this.getTasks()\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  },\n  computed: {\n    reversedTodos() {\n      return this.todos.slice().reverse()\n    }\n  },\n  watch: {\n    Topictag: function() {\n      this.topics = [];\n      this.subTopics = [];\n      // uncommenting this line below will clear subTopics\n      // everytime edit is used, we don't want that!\n      // this.Sub_topictag = \"\";\n      console.log(\"watching this.Topictag..........\");\n\n      if (this.Topictag.length > 0) {\n        // if (this.Topictag == this.newTopic) {\n        //   console.log(\"this.Topictag = \" + this.Topictag);\n        // } else {\n        console.log(\"watching this.Topictag.length > 0\");\n        this.subTopics = this.subjects[this.Topictag]\n        // console.log(\"this.Topictag = \" + this.Topictag);\n        // }\n      }\n      // console.log(\"this.Topictag.length = \" + this.Topictag.length);\n\n      // if (this.Topictag == \"newTopic\") {\n      //   console.log(\"someone is trying to add a new topic....\");\n      // }\n    },\n    TopicQuery: function() {\n      this.topicsQuery = [];\n      this.subTopicsQuery = [];\n      // uncommenting this line below will clear subTopics\n      // everytime edit is used, we don't want that!\n      // this.Sub_topictag = \"\";\n      if (this.TopicQuery.length > 0) {\n        this.subTopicsQuery = this.subjects[this.TopicQuery]\n      }\n    },\n    newtopic: function() {\n      console.log(\"watch: change on newtopic: \" + this.newtopic);\n      // this.disableSubTopicForm = true;\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\nth {\n  text-align: center;\n}\n\ntd,\ntr {\n  text-align: center;\n}\n\n/* td {\n  width: 20px;\n  white-space: nowrap;\n  overflow: hidden;\n} */\n\nbutton {\n  width: 100px;\n  align: center;\n}\n\n.overflow-ellipsis {\n  text-overflow: ellipsis;\n}\n\n.queryinputs {\n  margin: 10px;\n}\n\n.btn-submitquery {\n  white-space: nowrap;\n  width: 150px;\n}\n\n.btn-query-show {\n  white-space: nowrap;\n  width: 150px;\n}\n\n.btn-query-remove {\n  white-space: nowrap;\n  width: 200px;\n}\n\n.btn-dashboard-show {\n  white-space: nowrap;\n  width: 200px;\n}\n\n.btn-dashboard-remove {\n  white-space: nowrap;\n  width: 210px;\n}\n\n.alignLeft {\n  text-align: left;\n}\n\n.alignRight {\n  text-align: right;\n}\n\nbutton {\n  margin: 5px;\n}\n\n.optionsPanel {\n  border-radius: 5px;\n  border: 1px solid gray;\n}\n</style>\n"]}]}